[ 2024-09-01 12:00:20,568 ] 102 root - INFO - Starting the Flask application
[ 2024-09-01 12:00:20,575 ] 96 werkzeug - WARNING -  * Debugger is active!
[ 2024-09-01 12:00:20,577 ] 96 werkzeug - INFO -  * Debugger PIN: 117-434-498
[ 2024-09-01 12:00:21,130 ] 29 root - INFO - Accessing index page
[ 2024-09-01 12:00:21,133 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:00:21] "GET / HTTP/1.1" 200 -
[ 2024-09-01 12:01:03,710 ] 29 root - INFO - Accessing index page
[ 2024-09-01 12:01:03,712 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:01:03] "GET / HTTP/1.1" 200 -
[ 2024-09-01 12:01:20,412 ] 29 root - INFO - Accessing index page
[ 2024-09-01 12:01:20,414 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:01:20] "GET / HTTP/1.1" 200 -
[ 2024-09-01 12:03:32,847 ] 65 root - INFO - Accessing train_model page
[ 2024-09-01 12:03:32,851 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:03:32] "GET /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:03:35,712 ] 71 root - INFO - Accessing prediction form
[ 2024-09-01 12:03:35,716 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:03:35] "GET /predict HTTP/1.1" 200 -
[ 2024-09-01 12:04:27,272 ] 29 root - INFO - Accessing index page
[ 2024-09-01 12:04:27,273 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:04:27] "GET / HTTP/1.1" 200 -
[ 2024-09-01 12:04:30,874 ] 65 root - INFO - Accessing train_model page
[ 2024-09-01 12:04:30,875 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:04:30] "GET /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:04:34,370 ] 71 root - INFO - Accessing prediction form
[ 2024-09-01 12:04:34,371 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:04:34] "GET /predict HTTP/1.1" 200 -
[ 2024-09-01 12:04:37,488 ] 65 root - INFO - Accessing train_model page
[ 2024-09-01 12:04:37,489 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:04:37] "GET /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:04:49,724 ] 71 root - INFO - Accessing prediction form
[ 2024-09-01 12:04:49,725 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:04:49] "GET /predict HTTP/1.1" 200 -
[ 2024-09-01 12:04:57,565 ] 65 root - INFO - Accessing train_model page
[ 2024-09-01 12:04:57,566 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:04:57] "GET /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:05:02,417 ] 35 root - INFO - Received POST request for training custom data
[ 2024-09-01 12:05:02,430 ] 51 root - INFO - File saved: uploads\Temp_data.csv
[ 2024-09-01 12:05:02,430 ] 25 root - INFO - Data Ingestion method start
[ 2024-09-01 12:05:02,609 ] 44 root - INFO - Data Ingestion competed
[ 2024-09-01 12:05:02,637 ] 45 root - INFO - Data Ingestion competed train data 
   national_inv  lead_time  in_transit_qty  forecast_3_month  ...  stop_auto_buy  rev_stop  went_on_backorder  Unnamed: 22
0          9411         16             4.0                 0  ...             No       Yes                 No           No
1         11915          0             8.0                 0  ...             No       Yes                 No          Yes
2          2093          7             2.0                 0  ...             No       Yes                 No           No
3           790        215             4.0                87  ...             No       Yes                 No           No
4          1794         18             8.0                 0  ...             No       Yes                 No           No

[5 rows x 23 columns]
[ 2024-09-01 12:05:02,652 ] 47 root - INFO - Data Ingestion competed test data 
   national_inv  lead_time  in_transit_qty  forecast_3_month  ...  stop_auto_buy  rev_stop  went_on_backorder  Unnamed: 22
0          2748        201            12.0                75  ...            Yes       Yes                 No           No
1         12124          1             8.0                 0  ...             No       Yes                 No           No
2          1275         53             8.0                 0  ...             No       Yes                 No           No
3         10394         82             8.0                 0  ...            Yes       Yes                 No           No
4         10923        747            52.0                 0  ...             No        No                 No           No

[5 rows x 23 columns]
[ 2024-09-01 12:05:02,654 ] 41 root - INFO - initiate Data Tranfermation
[ 2024-09-01 12:05:02,752 ] 59 root - ERROR - Error during training: Error occurred in python script name [e:\pw_proj\BackOrder_Prediction-main\src\components\data_transformation.py] line number [58] error message [The 'n_samples' parameter of resample must be an int in the range [1, inf) or None. Got 0 instead.]
Traceback (most recent call last):
  File "e:\pw_proj\BackOrder_Prediction-main\src\components\data_transformation.py", line 58, in initiate_data_transformation
    resample_data = resample(
  File "C:\Users\Akshay Kumar BM\AppData\Roaming\Python\Python310\site-packages\sklearn\utils\_param_validation.py", line 204, in wrapper
    validate_parameter_constraints(
  File "C:\Users\Akshay Kumar BM\AppData\Roaming\Python\Python310\site-packages\sklearn\utils\_param_validation.py", line 96, in validate_parameter_constraints
    raise InvalidParameterError(
sklearn.utils._param_validation.InvalidParameterError: The 'n_samples' parameter of resample must be an int in the range [1, inf) or None. Got 0 instead.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "e:\pw_proj\BackOrder_Prediction-main\application.py", line 54, in training_pipeline
    result = Training_model.initiate_training_pipeline()
  File "e:\pw_proj\BackOrder_Prediction-main\src\pipelines\training_pipeline.py", line 13, in initiate_training_pipeline
    train_data, test_data, preprocesser = self.data_transform_obj.initiate_data_transformation(
  File "e:\pw_proj\BackOrder_Prediction-main\src\components\data_transformation.py", line 97, in initiate_data_transformation
    raise CustomException(e, sys)
src.exception.CustomException: Error occurred in python script name [e:\pw_proj\BackOrder_Prediction-main\src\components\data_transformation.py] line number [58] error message [The 'n_samples' parameter of resample must be an int in the range [1, inf) or None. Got 0 instead.]
[ 2024-09-01 12:05:02,756 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:05:02] "POST /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:05:11,962 ] 35 root - INFO - Received POST request for training custom data
[ 2024-09-01 12:05:11,973 ] 51 root - INFO - File saved: uploads\Temp_data.csv
[ 2024-09-01 12:05:11,973 ] 25 root - INFO - Data Ingestion method start
[ 2024-09-01 12:05:12,106 ] 44 root - INFO - Data Ingestion competed
[ 2024-09-01 12:05:12,121 ] 45 root - INFO - Data Ingestion competed train data 
   national_inv  lead_time  in_transit_qty  forecast_3_month  ...  ppap_risk  stop_auto_buy  rev_stop  went_on_backorder
0             0        NaN               0                 0  ...         No            Yes        No                 No
1            14        8.0               0                 0  ...        Yes            Yes        No                 No
2            13        NaN               0                 0  ...        Yes             No        No                 No
3            17        8.0              60               102  ...         No            Yes        No                 No
4            21        8.0               0                 3  ...         No            Yes        No                 No

[5 rows x 22 columns]
[ 2024-09-01 12:05:12,136 ] 47 root - INFO - Data Ingestion competed test data 
   national_inv  lead_time  in_transit_qty  forecast_3_month  ...  ppap_risk  stop_auto_buy  rev_stop  went_on_backorder
0            78        4.0               2                35  ...         No            Yes        No                 No
1             8        8.0               0                 0  ...         No            Yes        No                 No
2          3426        8.0             150              1920  ...         No            Yes        No                 No
3            17       12.0               0                 0  ...         No            Yes        No                 No
4           129        8.0               0               106  ...         No            Yes        No                 No

[5 rows x 22 columns]
[ 2024-09-01 12:05:12,138 ] 41 root - INFO - initiate Data Tranfermation
[ 2024-09-01 12:05:12,253 ] 27 root - INFO - Data Tranfermation piple start
[ 2024-09-01 12:05:12,262 ] 91 root - INFO - Applying preprocessing object on training and testing datasets.
[ 2024-09-01 12:05:12,263 ] 28 root - INFO - Splitting Dependent and Independent variables from train and test data
[ 2024-09-01 12:05:12,586 ] 48 root - INFO - Model Report : {'RandomForestClassifier': 0.8247422680412371, 'DecisionTreeClassifier': 0.7878787878787878, 'SGDClassifier': 0.7692307692307692, 'KNeighborsClassifier': 0.7654320987654322, 'GradientBoostingClassifier': 0.8125000000000001}
[ 2024-09-01 12:05:12,587 ] 59 root - INFO - Best Model Found , Model Name : RandomForestClassifier , Accuary is : 82.47
[ 2024-09-01 12:05:12,592 ] 55 root - INFO - Training pipeline initiated successfully
[ 2024-09-01 12:05:12,593 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:05:12] "POST /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:05:25,798 ] 65 root - INFO - Accessing train_model page
[ 2024-09-01 12:05:25,798 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:05:25] "GET /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:05:32,673 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:05:32] "[33mGET /static/Temp_data.csv HTTP/1.1[0m" 404 -
[ 2024-09-01 12:05:34,666 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:05:34] "[33mGET /static/Temp_data.csv HTTP/1.1[0m" 404 -
[ 2024-09-01 12:05:54,634 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:05:54] "GET /static/Temp_data.csv HTTP/1.1" 200 -
[ 2024-09-01 12:05:59,003 ] 35 root - INFO - Received POST request for training custom data
[ 2024-09-01 12:05:59,011 ] 51 root - INFO - File saved: uploads\Temp_data_1.csv
[ 2024-09-01 12:05:59,011 ] 25 root - INFO - Data Ingestion method start
[ 2024-09-01 12:05:59,156 ] 44 root - INFO - Data Ingestion competed
[ 2024-09-01 12:05:59,171 ] 45 root - INFO - Data Ingestion competed train data 
   national_inv  lead_time  in_transit_qty  forecast_3_month  ...  ppap_risk  stop_auto_buy  rev_stop  went_on_backorder
0           231        2.0             161               864  ...         No            Yes        No                 No
1             7       12.0               0                 0  ...         No            Yes        No                 No
2           376        3.0             109               145  ...         No            Yes        No                 No
3             2       12.0               0                15  ...         No            Yes        No                 No
4            11        8.0               0                 0  ...        Yes            Yes        No                 No

[5 rows x 22 columns]
[ 2024-09-01 12:05:59,186 ] 47 root - INFO - Data Ingestion competed test data 
   national_inv  lead_time  in_transit_qty  forecast_3_month  ...  ppap_risk  stop_auto_buy  rev_stop  went_on_backorder
0           656        4.0             434               672  ...         No            Yes        No                 No
1            33        2.0               0                60  ...         No            Yes        No                 No
2            13        8.0               0                 0  ...         No            Yes        No                 No
3             5        4.0               2                 1  ...         No            Yes        No                 No
4             0        4.0               5                 3  ...         No            Yes        No                 No

[5 rows x 22 columns]
[ 2024-09-01 12:05:59,188 ] 41 root - INFO - initiate Data Tranfermation
[ 2024-09-01 12:05:59,295 ] 27 root - INFO - Data Tranfermation piple start
[ 2024-09-01 12:05:59,302 ] 91 root - INFO - Applying preprocessing object on training and testing datasets.
[ 2024-09-01 12:05:59,303 ] 28 root - INFO - Splitting Dependent and Independent variables from train and test data
[ 2024-09-01 12:05:59,583 ] 48 root - INFO - Model Report : {'RandomForestClassifier': 0.8421052631578947, 'DecisionTreeClassifier': 0.7, 'SGDClassifier': 0.6538461538461539, 'KNeighborsClassifier': 0.7714285714285715, 'GradientBoostingClassifier': 0.7792207792207793}
[ 2024-09-01 12:05:59,584 ] 59 root - INFO - Best Model Found , Model Name : RandomForestClassifier , Accuary is : 84.21
[ 2024-09-01 12:05:59,588 ] 55 root - INFO - Training pipeline initiated successfully
[ 2024-09-01 12:05:59,589 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:05:59] "POST /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:06:04,989 ] 65 root - INFO - Accessing train_model page
[ 2024-09-01 12:06:04,990 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:06:04] "GET /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:06:56,325 ] 65 root - INFO - Accessing train_model page
[ 2024-09-01 12:06:56,326 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:06:56] "GET /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:09:01,930 ] 29 root - INFO - Accessing index page
[ 2024-09-01 12:09:01,930 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:09:01] "GET / HTTP/1.1" 200 -
[ 2024-09-01 12:09:01,946 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:09:01] "[33mGET /static/css/styles.css HTTP/1.1[0m" 404 -
[ 2024-09-01 12:09:02,694 ] 29 root - INFO - Accessing index page
[ 2024-09-01 12:09:02,694 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:09:02] "GET / HTTP/1.1" 200 -
[ 2024-09-01 12:09:03,006 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:09:03] "[33mGET /static/css/styles.css HTTP/1.1[0m" 404 -
[ 2024-09-01 12:09:04,037 ] 29 root - INFO - Accessing index page
[ 2024-09-01 12:09:04,038 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:09:04] "GET / HTTP/1.1" 200 -
[ 2024-09-01 12:09:04,064 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:09:04] "[33mGET /static/css/styles.css HTTP/1.1[0m" 404 -
[ 2024-09-01 12:09:42,798 ] 29 root - INFO - Accessing index page
[ 2024-09-01 12:09:42,799 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:09:42] "GET / HTTP/1.1" 200 -
[ 2024-09-01 12:09:42,825 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:09:42] "[33mGET /static/css/styles.css HTTP/1.1[0m" 404 -
[ 2024-09-01 12:09:43,863 ] 29 root - INFO - Accessing index page
[ 2024-09-01 12:09:43,864 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:09:43] "GET / HTTP/1.1" 200 -
[ 2024-09-01 12:09:44,179 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:09:44] "[33mGET /static/css/styles.css HTTP/1.1[0m" 404 -
[ 2024-09-01 12:10:23,570 ] 29 root - INFO - Accessing index page
[ 2024-09-01 12:10:23,570 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:10:23] "GET / HTTP/1.1" 200 -
[ 2024-09-01 12:10:23,601 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:10:23] "GET /static/styles.css HTTP/1.1" 200 -
[ 2024-09-01 12:10:24,335 ] 29 root - INFO - Accessing index page
[ 2024-09-01 12:10:24,335 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:10:24] "GET / HTTP/1.1" 200 -
[ 2024-09-01 12:10:24,647 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:10:24] "[36mGET /static/styles.css HTTP/1.1[0m" 304 -
[ 2024-09-01 12:10:29,992 ] 65 root - INFO - Accessing train_model page
[ 2024-09-01 12:10:29,996 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:10:29] "GET /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:10:30,296 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:10:30] "[36mGET /static/styles.css HTTP/1.1[0m" 304 -
[ 2024-09-01 12:10:37,965 ] 71 root - INFO - Accessing prediction form
[ 2024-09-01 12:10:37,968 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:10:37] "GET /predict HTTP/1.1" 200 -
[ 2024-09-01 12:10:38,011 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:10:38] "[36mGET /static/styles.css HTTP/1.1[0m" 304 -
[ 2024-09-01 12:10:55,998 ] 71 root - INFO - Accessing prediction form
[ 2024-09-01 12:10:55,998 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:10:55] "GET /predict HTTP/1.1" 200 -
[ 2024-09-01 12:11:01,232 ] 29 root - INFO - Accessing index page
[ 2024-09-01 12:11:01,235 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:11:01] "GET / HTTP/1.1" 200 -
[ 2024-09-01 12:11:34,050 ] 29 root - INFO - Accessing index page
[ 2024-09-01 12:11:34,050 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:11:34] "GET / HTTP/1.1" 200 -
[ 2024-09-01 12:11:43,821 ] 29 root - INFO - Accessing index page
[ 2024-09-01 12:11:43,823 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:11:43] "GET / HTTP/1.1" 200 -
[ 2024-09-01 12:11:47,873 ] 65 root - INFO - Accessing train_model page
[ 2024-09-01 12:11:47,876 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:11:47] "GET /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:11:57,874 ] 71 root - INFO - Accessing prediction form
[ 2024-09-01 12:11:57,875 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:11:57] "GET /predict HTTP/1.1" 200 -
[ 2024-09-01 12:12:09,876 ] 65 root - INFO - Accessing train_model page
[ 2024-09-01 12:12:09,877 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:12:09] "GET /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:12:15,620 ] 71 root - INFO - Accessing prediction form
[ 2024-09-01 12:12:15,621 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:12:15] "GET /predict HTTP/1.1" 200 -
[ 2024-09-01 12:14:28,093 ] 29 root - INFO - Accessing index page
[ 2024-09-01 12:14:28,095 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:14:28] "GET / HTTP/1.1" 200 -
[ 2024-09-01 12:14:32,192 ] 65 root - INFO - Accessing train_model page
[ 2024-09-01 12:14:32,192 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:14:32] "GET /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:14:37,396 ] 71 root - INFO - Accessing prediction form
[ 2024-09-01 12:14:37,397 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:14:37] "GET /predict HTTP/1.1" 200 -
[ 2024-09-01 12:14:49,613 ] 74 root - INFO - Received POST request for prediction
[ 2024-09-01 12:14:49,627 ] 55 root - INFO - Dataframe Gathered
[ 2024-09-01 12:14:49,651 ] 95 root - INFO - Prediction result: The Product NOT Went on Backorder.
[ 2024-09-01 12:14:49,651 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:14:49] "POST /predict HTTP/1.1" 200 -
[ 2024-09-01 12:14:55,952 ] 74 root - INFO - Received POST request for prediction
[ 2024-09-01 12:14:55,953 ] 55 root - INFO - Dataframe Gathered
[ 2024-09-01 12:14:55,963 ] 95 root - INFO - Prediction result: The Product NOT Went on Backorder.
[ 2024-09-01 12:14:55,963 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:14:55] "POST /predict HTTP/1.1" 200 -
[ 2024-09-01 12:14:58,704 ] 71 root - INFO - Accessing prediction form
[ 2024-09-01 12:14:58,704 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:14:58] "GET /predict HTTP/1.1" 200 -
[ 2024-09-01 12:15:14,370 ] 65 root - INFO - Accessing train_model page
[ 2024-09-01 12:15:14,371 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:15:14] "GET /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:15:18,291 ] 35 root - INFO - Received POST request for training custom data
[ 2024-09-01 12:15:18,303 ] 51 root - INFO - File saved: uploads\Temp_data.csv
[ 2024-09-01 12:15:18,304 ] 25 root - INFO - Data Ingestion method start
[ 2024-09-01 12:15:18,450 ] 44 root - INFO - Data Ingestion competed
[ 2024-09-01 12:15:18,469 ] 45 root - INFO - Data Ingestion competed train data 
   national_inv  lead_time  in_transit_qty  forecast_3_month  ...  stop_auto_buy  rev_stop  went_on_backorder  Unnamed: 22
0          9186          4             2.0                 0  ...             No       Yes                 No           No
1          4235        269            12.0                 0  ...            Yes       Yes                 No           No
2          6650        561             4.0               345  ...             No       Yes                 No           No
3         11473          4             2.0                 0  ...             No       Yes                 No           No
4         11404          4             2.0                80  ...             No       Yes                 No           No

[5 rows x 23 columns]
[ 2024-09-01 12:15:18,484 ] 47 root - INFO - Data Ingestion competed test data 
   national_inv  lead_time  in_transit_qty  forecast_3_month  ...  stop_auto_buy  rev_stop  went_on_backorder  Unnamed: 22
0          1260          5             8.0                 0  ...             No       Yes                 No           No
1          8648        123             8.0                 0  ...             No       Yes                 No           No
2          5901         85             2.0                 0  ...             No       Yes                 No           No
3          4855          5             2.0                 0  ...             No       Yes                 No           No
4          5665          0             4.0                 0  ...             No       Yes                 No           No

[5 rows x 23 columns]
[ 2024-09-01 12:15:18,487 ] 41 root - INFO - initiate Data Tranfermation
[ 2024-09-01 12:15:18,588 ] 27 root - INFO - Data Tranfermation piple start
[ 2024-09-01 12:15:18,597 ] 91 root - INFO - Applying preprocessing object on training and testing datasets.
[ 2024-09-01 12:15:18,599 ] 28 root - INFO - Splitting Dependent and Independent variables from train and test data
[ 2024-09-01 12:15:18,714 ] 92 root - INFO - Exception occured during model training
[ 2024-09-01 12:15:18,714 ] 69 root - INFO - Exception occured at Model Training
[ 2024-09-01 12:15:18,714 ] 59 root - ERROR - Error during training: Error occurred in python script name [e:\pw_proj\BackOrder_Prediction-main\src\components\model_trainer.py] line number [45] error message [Error occurred in python script name [e:\pw_proj\BackOrder_Prediction-main\src\components\model_trainer.py] line number [81] error message [Expected n_neighbors <= n_samples,  but n_samples = 2, n_neighbors = 5]]
Traceback (most recent call last):
  File "e:\pw_proj\BackOrder_Prediction-main\src\components\model_trainer.py", line 81, in evaluate_model
    y_test_pred =model.predict(X_test)
  File "C:\Users\Akshay Kumar BM\AppData\Roaming\Python\Python310\site-packages\sklearn\neighbors\_classification.py", line 266, in predict
    neigh_ind = self.kneighbors(X, return_distance=False)
  File "C:\Users\Akshay Kumar BM\AppData\Roaming\Python\Python310\site-packages\sklearn\neighbors\_base.py", line 808, in kneighbors
    raise ValueError(
ValueError: Expected n_neighbors <= n_samples,  but n_samples = 2, n_neighbors = 5

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "e:\pw_proj\BackOrder_Prediction-main\src\components\model_trainer.py", line 45, in initate_model_training
    model_report:dict=self.evaluate_model(X_train,y_train,X_test,y_test,models)
  File "e:\pw_proj\BackOrder_Prediction-main\src\components\model_trainer.py", line 93, in evaluate_model
    raise CustomException(e,sys)
src.exception.CustomException: Error occurred in python script name [e:\pw_proj\BackOrder_Prediction-main\src\components\model_trainer.py] line number [81] error message [Expected n_neighbors <= n_samples,  but n_samples = 2, n_neighbors = 5]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "e:\pw_proj\BackOrder_Prediction-main\application.py", line 54, in training_pipeline
    result = Training_model.initiate_training_pipeline()
  File "e:\pw_proj\BackOrder_Prediction-main\src\pipelines\training_pipeline.py", line 15, in initiate_training_pipeline
    result=self.model_trainer_obj.initate_model_training(train_data, test_data)
  File "e:\pw_proj\BackOrder_Prediction-main\src\components\model_trainer.py", line 70, in initate_model_training
    raise CustomException(e,sys)
src.exception.CustomException: Error occurred in python script name [e:\pw_proj\BackOrder_Prediction-main\src\components\model_trainer.py] line number [45] error message [Error occurred in python script name [e:\pw_proj\BackOrder_Prediction-main\src\components\model_trainer.py] line number [81] error message [Expected n_neighbors <= n_samples,  but n_samples = 2, n_neighbors = 5]]
[ 2024-09-01 12:15:18,718 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:15:18] "POST /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:15:26,719 ] 35 root - INFO - Received POST request for training custom data
[ 2024-09-01 12:15:26,734 ] 51 root - INFO - File saved: uploads\Temp_data_1.csv
[ 2024-09-01 12:15:26,734 ] 25 root - INFO - Data Ingestion method start
[ 2024-09-01 12:15:26,887 ] 44 root - INFO - Data Ingestion competed
[ 2024-09-01 12:15:26,903 ] 45 root - INFO - Data Ingestion competed train data 
   national_inv  lead_time  in_transit_qty  forecast_3_month  ...  ppap_risk  stop_auto_buy  rev_stop  went_on_backorder
0             0        NaN               0                 0  ...         No            Yes        No                 No
1           -78        NaN               0                 0  ...         No             No        No                 No
2           221       12.0               0                 0  ...         No             No        No                 No
3            13       12.0               0                 0  ...         No            Yes        No                 No
4            53        NaN               0                 0  ...         No            Yes        No                 No

[5 rows x 22 columns]
[ 2024-09-01 12:15:26,920 ] 47 root - INFO - Data Ingestion competed test data 
   national_inv  lead_time  in_transit_qty  forecast_3_month  ...  ppap_risk  stop_auto_buy  rev_stop  went_on_backorder
0            35        2.0               0                25  ...         No            Yes        No                 No
1             4        8.0               0                 0  ...        Yes            Yes        No                 No
2           237        2.0             121               556  ...         No            Yes        No                 No
3            12        8.0               0                 5  ...         No            Yes        No                 No
4            16        NaN               0                 0  ...         No            Yes        No                 No

[5 rows x 22 columns]
[ 2024-09-01 12:15:26,921 ] 41 root - INFO - initiate Data Tranfermation
[ 2024-09-01 12:15:27,030 ] 27 root - INFO - Data Tranfermation piple start
[ 2024-09-01 12:15:27,037 ] 91 root - INFO - Applying preprocessing object on training and testing datasets.
[ 2024-09-01 12:15:27,037 ] 28 root - INFO - Splitting Dependent and Independent variables from train and test data
[ 2024-09-01 12:15:27,343 ] 48 root - INFO - Model Report : {'RandomForestClassifier': 0.7307692307692307, 'DecisionTreeClassifier': 0.7906976744186047, 'SGDClassifier': 0.74, 'KNeighborsClassifier': 0.611111111111111, 'GradientBoostingClassifier': 0.6799999999999999}
[ 2024-09-01 12:15:27,344 ] 59 root - INFO - Best Model Found , Model Name : DecisionTreeClassifier , Accuary is : 79.07
[ 2024-09-01 12:15:27,346 ] 55 root - INFO - Training pipeline initiated successfully
[ 2024-09-01 12:15:27,347 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:15:27] "POST /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:15:38,087 ] 65 root - INFO - Accessing train_model page
[ 2024-09-01 12:15:38,088 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:15:38] "GET /train_custom_data HTTP/1.1" 200 -
[ 2024-09-01 12:15:40,673 ] 71 root - INFO - Accessing prediction form
[ 2024-09-01 12:15:40,674 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:15:40] "GET /predict HTTP/1.1" 200 -
[ 2024-09-01 12:15:54,646 ] 74 root - INFO - Received POST request for prediction
[ 2024-09-01 12:15:54,647 ] 55 root - INFO - Dataframe Gathered
[ 2024-09-01 12:15:54,649 ] 95 root - INFO - Prediction result: The Product NOT Went on Backorder.
[ 2024-09-01 12:15:54,650 ] 96 werkzeug - INFO - 127.0.0.1 - - [01/Sep/2024 12:15:54] "POST /predict HTTP/1.1" 200 -
